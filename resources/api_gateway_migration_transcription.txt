Date: 2025-11-02
Duration: 15 min
Channel: #dev-core / Migration to API Gateway

Participants:
LeÃ¯la Tazi (Delivery Lead)
Joel Lian Villeneuve Lian Villeneuve (Scrum Master)
Sophie Curinier (Devops Engineer)

Meeting transcription: 

LeÃ¯la Tazi : Bonjour Ã  tous ğŸ‘‹ On commence ? Aujourdâ€™hui, on se concentre sur la finalisation de la migration vers API Gateway et sur les Ã©lÃ©ments Ã  ajouter dans Jira.
 
Joel Lian Villeneuve : Jâ€™ai passÃ© en revue la configuration Terraform du dÃ©pÃ´t â€œHydraâ€. On peut probablement rÃ©utiliser les modules, mais il faudra les refactorer pour gÃ©rer plusieurs environnements.
 
Sophie Curinier : Bonne idÃ©e. On crÃ©e une tÃ¢che : Â« Refactorer les modules Terraform du dÃ©pÃ´t Hydra pour supporter plusieurs environnements dans Nimbus Â».
 
LeÃ¯la Tazi : Je prends celle-lÃ . Je vais aussi crÃ©er un VPC partagÃ© et des sous-rÃ©seaux pour le gateway. Les CIDR doivent correspondre au reste de la stack backend â€” plages en 10.20.x.x, câ€™est bien Ã§a ?
 
Joel Lian Villeneuve : Exact. On ajoute une autre tÃ¢che : Â« Provisionner un VPC partagÃ© et des sous-rÃ©seaux pour lâ€™API Gateway Â».
 
Sophie Curinier : Pour le frontend, les routes /auth et /data passent encore par le gateway. On passe Ã  lâ€™authentification IAM ou on garde les clÃ©s API ?
 
Joel Lian Villeneuve : On passe Ã  IAM. Il faudra mettre Ã  jour le spec OpenAPI en consÃ©quence.
 
LeÃ¯la Tazi : Parfait. Nouvelle tÃ¢che : Â« Mettre Ã  jour le spec OpenAPI pour inclure lâ€™authentification IAM sur les endpoints /auth et /data Â».
 
Sophie Curinier : Je mâ€™en occupe. Et je configurerai les nouvelles routes une fois que ce sera fait.
 
Joel Lian Villeneuve : Fais-en une tÃ¢che sÃ©parÃ©e : Â« Configurer les routes du gateway et les bindings IAM Â».
 
LeÃ¯la Tazi : CÃ´tÃ© infrastructure â€” on garde les rÃ¨gles NAT et egress firewall sÃ©parÃ©es du module VPC partagÃ© ?
 
Joel Lian Villeneuve : Oui, mieux vaut les modulariser. On aura besoin dâ€™un sous-module Terraform pour les rÃ¨gles sortantes.
 
Sophie Curinier : Ok, on ajoute : Â« ImplÃ©menter un module Terraform pour NAT et les rÃ¨gles egress Â».
 
LeÃ¯la Tazi : Pour les tests QA, on prÃ©voit des tests automatisÃ©s aprÃ¨s le dÃ©ploiement ?
 
Joel Lian Villeneuve : On peut intÃ©grer des collections Postman dans Cloud Build, dans le pipeline.
 
Sophie Curinier : Super idÃ©e. TÃ¢che : Â« Ajouter des tests API automatisÃ©s post-dÃ©ploiement avec Postman Â».
 
LeÃ¯la Tazi : Concernant Cloud Build â€” on garde les triggers staging et prod selon les noms de branches ?
 
Joel Lian Villeneuve : Oui. Je vais Ã©tendre le pipeline : si branche = main â†’ dÃ©ploiement en prod, si develop â†’ staging.
 
Sophie Curinier : Donc : Â« Mettre Ã  jour le pipeline Cloud Build pour des triggers de dÃ©ploiement basÃ©s sur les branches Â».
 
LeÃ¯la Tazi : On devrait aussi ajouter une validation Terraform dans le CI. Un petit terraform validate et tflint.
 
Joel Lian Villeneuve : Bonne idÃ©e. TÃ¢che : Â« Ajouter la validation Terraform et les vÃ©rifications lint dans le pipeline CI Â».
 
Sophie Curinier : Pour le monitoring â€” on aura besoin de dashboards pour la latence et les taux dâ€™erreur. Cloud Monitoring peut gÃ©rer Ã§a.
 
LeÃ¯la Tazi : TÃ¢che : Â« CrÃ©er des dashboards Cloud Monitoring pour la latence et le suivi des erreurs API Â».
 
Joel Lian Villeneuve : On ajoute des alertes aussi ?
 
Sophie Curinier : Oui, idÃ©alement quand le taux dâ€™erreur > 5 % ou la latence p95 > 1s.
 
LeÃ¯la Tazi : TÃ¢che : Â« Configurer les seuils dâ€™alerte pour le taux dâ€™erreur et la latence Â».
 
Joel Lian Villeneuve : Petite question â€” on gÃ¨re les bindings IAM diffÃ©remment selon lâ€™environnement ?
 
Sophie Curinier : Oui, staging peut utiliser le service account par dÃ©faut, mais prod doit en avoir un dÃ©diÃ©.
 
LeÃ¯la Tazi : On sÃ©pare Ã§a : Â« CrÃ©er des comptes de service IAM distincts pour les gateways staging et prod Â».
 
Joel Lian Villeneuve : Je mâ€™en occupe une fois le VPC prÃªt.
 
Sophie Curinier : Parfait.

LeÃ¯la Tazi : Pour les tests QA, on les lance aprÃ¨s le dÃ©ploiement en staging ou en prod ?
 
Joel Lian Villeneuve : Pour lâ€™instant, aprÃ¨s staging. On passe en prod une fois validÃ©.
 
Sophie Curinier : On inclut ce critÃ¨re dâ€™acceptation dans la tÃ¢che de test.
 
LeÃ¯la Tazi : Autre chose cÃ´tÃ© infra ?
 
Joel Lian Villeneuve : Oui â€” Â« Centraliser le state Terraform dans un backend distant (bucket GCS) Â».
 
Sophie Curinier : AjoutÃ©. Une fois les routes configurÃ©es, je testerai les nouvelles URLs des endpoints.
 
LeÃ¯la Tazi : Note Ã§a aussi dans les critÃ¨res dâ€™acceptation.
 
Joel Lian Villeneuve : On tague tout sous lâ€™epic NIM-001 ?
 
Sophie Curinier : Exactement. Epic : Migration vers Nimbus API Gateway.
 
LeÃ¯la Tazi : Je rÃ©dige les premiers items du backlog cet aprÃ¨s-midi et je les pousse via le connecteur Jira MCP.
 
Joel Lian Villeneuve : Parfait. Merci Ã  tous. On vise dâ€™avoir toutes les tÃ¢ches prÃªtes dâ€™ici demain soir.